<!-- 可以計算耗時 -->
<!-- 可以做一個navbar 採功能分頁 1. 偵測打瞌睡 2. 老師看資料庫的資料 誰在睡覺等等 3. 使用者使用圖片觀看模型效果 -->
<html>
  <head>
    <meta charset="utf-8" />
    <title>打瞌睡偵測系統</title>
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <script type="module" src="faceDetect.js"></script>
    <script src="loadImage.js"></script>
    <script src="sheetdb.js"></script>
  </head>
  <body>
    <h1>輸入學號與姓名</h1>
    學號：<input type="text" id="studentID" class="input" required /><br />
    姓名：<input type="text" id="studentName" class="input" required /><br />
    <button type="button" class="orange btn" id="submit" onclick="submit()">
      送出
    </button>
    <p id="result"></p>
    <h1>使用 MediaPipe FaceLandmarker進行臉部特徵點偵測</h1>
    <h2>選擇圖片後點擊圖片，查看臉部的特徵點。</h2>
    <div>
      <label for="fileInput" class="orange btn">
        選擇圖片
        <input
          type="file"
          id="fileInput"
          accept="image/*"
          style="display: none"
          onchange="loadImage(event)"
        />
      </label>
    </div>
    <!-- 偵測圖片部分 -->
    <div class="detectOnClick">
      <!-- https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/%E9%AB%98%E9%9B%84%E5%B8%82%E9%95%B7_%E9%9F%93%E5%9C%8B%E7%91%9C.jpg/220px-%E9%AB%98%E9%9B%84%E5%B8%82%E9%95%B7_%E9%9F%93%E5%9C%8B%E7%91%9C.jpg -->
      <img
        id="selectedImage"
        src="https://storage.googleapis.com/mediapipe-assets/portrait.jpg"
        width="400px"
        crossorigin="anonymous"
        title="Click to get detection!"
      />
    </div>
    <!-- 畫臉 -->
    <div class="blend-shapes">
      <ul class="blend-shapes-list" id="image-blend-shapes"></ul>
    </div>
    <div>
      <h2>
        將你的臉置於鏡頭前，進行即時打瞌睡偵測。<br />點擊<b>開啟鏡頭</b>並在出現提示時授予其存取權限。
      </h2>
      <div id="liveView" class="videoView">
        <button id="webcamButton" class="orange btn">
          <!-- <span class="mdc-button__ripple"></span> -->
          <span class="mdc-button__label">開啟鏡頭</span>
        </button>
        <div style="position: relative">
          <video id="webcam" autoplay playsinline></video>
          <canvas
            class="output_canvas"
            id="output_canvas"
            style="position: absolute; left: 0px; top: 0px"
          ></canvas>
        </div>
      </div>
      <!-- 畫臉 -->
      <div class="blend-shapes">
        <ul class="blend-shapes-list" id="video-blend-shapes"></ul>
      </div>
    </div>
  </body>
</html>
